<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
      
    <head>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    	<link href="../static/css/core2.css"
          th:href="@{/css/core2.css}"
          rel="stylesheet" media="screen" />
		<title>Cars</title>
	</head>
	
    <body>

		<header>
			<h1 id="title">
				Cars
			</h1>
			<ul id="ulRet"> <li id="liRet"><a th:href="@{/home}">Return to homepage</a></li> </ul> <div class="lineBreak0cm5"></div>
		</header>
		
		<hr id="hr1" />
		<div class="lineBreak1cm0"></div>

		<div class="dataList">
			<div th:if="${carList.getSize() > 0}">
				<h2 id="title">Car list:</h2>
				<table>
					<tr>
						<th>Car id</th>
						<th>Last action</th>
						<th>Brand</th>
						<th>Model</th>
						<th>Client:</th>
						<th>WIN number</th>
						<th>Year of production</th>
						<th>Operations</th>
					</tr>
					<tr th:each="car : ${carList}">
						<td><a th:href="@{/employee/cars/car(carId=${car.carId})}"><span th:text="${car.carId}">id</span></a></td>
						<div th:if="${car.dateOfLastAction != null}">
							<td th:text="${#dates.format(car.dateOfLastAction, 'dd-MMM-yyyy')}">Date</td>
						</div>	
						<div th:unless="${car.dateOfLastAction != null}">
							<td>None</td>
						</div>
						<td th:text="${car.brand}">Brand</td>
						<td th:text="${car.model}">Model</td>
						<div th:if="${car.client != null}">
							<td th:text="${car.client}">Client</td>
						</div>	
						<div th:unless="${car.client != null}">
							<td>No client assigned</td>
						</div>
						<td th:text="${car.WIN}">WIN number</td>
						<td th:text="${car.yearOfProduction}">Production year</td>
						<td><a th:href="@{/employee/cars/updateCar(carId=${car.carId})}"><span>Update</span></a>/<a th:href="@{/employee/cars/deleteCar(carId=${car.carId})}"><span>Delete</span></a></td>
					</tr>
				</table>
			 	<ul id="ulFixed" class="pager">
			 		<div>
			 			<li th:class="${pageNumber == 1?'disabled':''}">
			 				<a type="button" th:href="@{/employee/cars(page=1)}" id="menuActiveField" ><span>First</span></a>
			 			</li>
						<li th:class="${pageNumber &lt;= 1?'disabled':''}" >
							<a type="button" th:href="@{/employee/cars(page=${pageNumber-1})}" id="menuActiveField" ><span>Previous</span></a>
						</li>
			 			<li style="float:right" th:class="${pageNumber == maxPagesNumber?'disabled':''}" >
			 				<a type="button" th:href="@{/employee/cars(page=${maxPagesNumber})}" id="menuActiveField" ><span>Last</span></a>
			 			</li>
						<li style="float:right" th:class="${pageNumber &gt;= maxPagesNumber?'disabled':''}" >
							<a type="button" th:href="@{/employee/cars(page=${pageNumber+1})}" id="menuActiveField"  th:disabled="${nextInp}" ><span>Next</span></a>
						</li>
					</div>
				</ul>
			</div> 
			<div th:unless="${carList.getSize() > 0}">
				<div id="attention">Attention: No data in DB!</div>
			</div> <div class="lineBreak0cm5"></div>
		</div>
		
		<div>
			<a type="button" th:href="@{/employee/cars/addCar}" id="addButton" ><span>Add new car!</span></a>
		</div>
    </body>
</html>