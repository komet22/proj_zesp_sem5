<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
      
    <head>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	    <link href="../static/css/f..."
           	  th:href="@{/css/global.css}"
              rel="stylesheet" media="screen" />	
    	<link href="../static/css/f..."
           	  th:href="@{/css/forms_and_results.css}"
              rel="stylesheet" media="screen" />
		<title>Aktualizacja profilu pracownika</title>
	</head>
	
    <body>
		<header>
			<h1>
				Aktualizacja profilu pracownika
			</h1>
			<div>
				<ul> 
					<li><a th:href="@{/home}">Wróć do strony domowej</a></li> 
				</ul>
			</div>
		</header>
		<hr id="hr1" />
		<div id="pageContent">
        	<form id="myForm" th:action="@{/employee/updateProfile}" th:object="${employeeUpdateDTO}" method="post" enctype="multipart/form-data">
     			<div>
            		<table>
            	   		<tr id="myTr" >
            				<th colspan="2"><div id="myFormTitle"> Formularz aktualizacji profilu pracownika: </div></th>
            			</tr>
                 		<tr id="myTr">
                    		<td>Imię:</td>
                    		<td><input type="text" th:field="*{firstName}" /></td>
                    		<td th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">Error</td>
                		</tr>              	
                  		<tr id="myTr">
                    		<td>Nazwisko:</td>
                    		<td><input type="text" th:field="*{lastName}" /></td>
                    		<td th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Error</td>
                		</tr>            	 
                		<tr id="myTr">
                    		<td>Opis profilu:</td>
							<td><textarea rows="3" cols="50" name="profileDescription"  th:field="*{profileDescription}" form="myForm" /></td>
                    		<td th:if="${#fields.hasErrors('profileDescription')}" th:errors="*{profileDescription}">Error</td>
                		</tr>
                		<tr id="myTr">
                    		<td>Zdjęcie:</td>
                    		<td><input type="file" accept="image/x-png,image/gif,image/jpeg" name="employeePhoto" required="true"/></td>
                    		<input type="number" hidden="hidden" th:value="*{employeeId}" th:field="*{employeeId}" />
                		</tr>                	       	  
                	</table>   
                	<div> Dane kontaktowe: </div>
                	<table>    	
                 		<tr>
                    		<td>Adress e-mail:</td>
                    		<td><input type="email" th:field="*{email}" /></td>
                    		<td>Telefon kontaktowy:</td>
                    		<td><input type="text" th:field="*{mobile}" /></td>
                    		<td th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Error</td>
                    		<td th:if="${#fields.hasErrors('mobile')}" th:errors="*{mobile}">Error</td>                  		
                		</tr>         
                		<tr>
                    		<td>Miasto:</td>
                    		<td><input type="text" th:field="*{city}" /></td>
                    		<td>Kod pocztowy:</td>
                    		<td><input type="text" th:field="*{cityPostCode}" /></td>
                    		<td th:if="${#fields.hasErrors('city')}" th:errors="*{city}">Error</td>
                    		<td th:if="${#fields.hasErrors('cityPostCode')}" th:errors="*{cityPostCode}">Error</td>
                		</tr>
                		<tr>
                    		<td>Ulica:</td>
                    		<td><input type="text" th:field="*{street}" /></td>
                    		<td>Numer budynku/mieszkania:</td>
                    		<td><input type="text" th:field="*{accommodationNumber}" /></td>
                    		<td th:if="${#fields.hasErrors('street')}" th:errors="*{street}">Error</td>
                    		<td th:if="${#fields.hasErrors('accommodationNumber')}" th:errors="*{accommodationNumber}">Error</td>
                		</tr>         	      
            		</table>
            		<button type="submit" id="send" >Zarejesruj</button>
            		<div>Pola z * są opcjonalne</div>
            	</div>
        	</form>
		</div>
	</body>
</html>